import{r as i,j as E,d as k,Q as F,s as D,z as M,U as j}from"./index-BYmi2GkL.js";import{e as S,T as W,a as I,g as x,c as G,E as z}from"./TransitionWrapper-BbpOhGPj.js";const U=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",_=typeof document<"u",p=_||U?i.useLayoutEffect:i.useEffect,$={[z]:"show",[G]:"show"},B=i.forwardRef(({className:e,children:n,transitionClasses:s={},onEnter:t,...r},o)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},l=i.useCallback((u,a)=>{S(u),t==null||t(u,a)},[t]);return E.jsx(W,{ref:o,addEndListener:I,...c,onEnter:l,childRef:x(n),children:(u,a)=>i.cloneElement(n,{...a,className:k("fade",e,n.props.className,$[u],s[u])})})});B.displayName="Fade";const O=e=>!e||typeof e=="function"?e:n=>{e.current=n};function Q(e,n){const s=O(e),t=O(n);return r=>{s&&s(r),t&&t(r)}}function b(e,n){return i.useMemo(()=>Q(e,n),[e,n])}const h=(e,n)=>D?e==null?(n||M()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ne(e,n){const s=F(),[t,r]=i.useState(()=>h(e,s==null?void 0:s.document));if(!t){const o=h(e);o&&r(o)}return i.useEffect(()=>{},[n,t]),i.useEffect(()=>{const o=h(e);o!==t&&r(o)},[e,t]),t}function V({children:e,in:n,onExited:s,mountOnEnter:t,unmountOnExit:r}){const o=i.useRef(null),c=i.useRef(n),l=j(s);i.useEffect(()=>{n?c.current=!0:l(o.current)},[n,l]);const u=b(o,x(e)),a=i.cloneElement(e,{ref:u});return n?a:r||!c.current&&t?null:a}const q=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function A(e,n){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;s[t]=e[t]}return s}function H(e){let{onEnter:n,onEntering:s,onEntered:t,onExit:r,onExiting:o,onExited:c,addEndListener:l,children:u}=e,a=A(e,q);const d=i.useRef(null),R=b(d,x(u)),f=m=>g=>{m&&d.current&&m(d.current,g)},v=i.useCallback(f(n),[n]),C=i.useCallback(f(s),[s]),T=i.useCallback(f(t),[t]),w=i.useCallback(f(r),[r]),y=i.useCallback(f(o),[o]),L=i.useCallback(f(c),[c]),N=i.useCallback(f(l),[l]);return Object.assign({},a,{nodeRef:d},n&&{onEnter:v},s&&{onEntering:C},t&&{onEntered:T},r&&{onExit:w},o&&{onExiting:y},c&&{onExited:L},l&&{addEndListener:N},{children:typeof u=="function"?(m,g)=>u(m,Object.assign({},g,{ref:R})):i.cloneElement(u,{ref:R})})}const J=["component"];function K(e,n){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;s[t]=e[t]}return s}const P=i.forwardRef((e,n)=>{let{component:s}=e,t=K(e,J);const r=H(t);return E.jsx(s,Object.assign({ref:n},r))});function X({in:e,onTransition:n}){const s=i.useRef(null),t=i.useRef(!0),r=j(n);return p(()=>{if(!s.current)return;let o=!1;return r({in:e,element:s.current,initial:t.current,isStale:()=>o}),()=>{o=!0}},[e,r]),p(()=>(t.current=!1,()=>{t.current=!0}),[]),s}function Y({children:e,in:n,onExited:s,onEntered:t,transition:r}){const[o,c]=i.useState(!n);n&&o&&c(!1);const l=X({in:!!n,onTransition:a=>{const d=()=>{a.isStale()||(a.in?t==null||t(a.element,a.initial):(c(!0),s==null||s(a.element)))};Promise.resolve(r(a)).then(d,R=>{throw a.in||c(!0),R})}}),u=b(l,x(e));return o&&!n?null:i.cloneElement(e,{ref:u})}function te(e,n,s){return e?E.jsx(P,Object.assign({},s,{component:e})):n?E.jsx(Y,Object.assign({},s,{transition:n})):E.jsx(V,Object.assign({},s))}function se(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}export{B as F,V as N,b as a,se as h,te as r,ne as u};
