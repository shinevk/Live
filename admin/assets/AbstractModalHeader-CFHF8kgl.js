import{r as a,j as d,d as be,o as O,z as Te,O as ye,Q as $,R as Ce,S as xe,s as Re,U as g,V as we,W as V,X as G,Y as u,v as Me}from"./index-BYmi2GkL.js";import{u as Oe,r as U,h as ke}from"./hasClass-G5mkY5cP.js";import{s as m,i as Ne}from"./TransitionWrapper-BbpOhGPj.js";const Ae={"aria-label":O.string,onClick:O.func,variant:O.oneOf(["white"])},B=a.forwardRef(({className:n,variant:e,"aria-label":t="Close",...s},o)=>d.jsx("button",{ref:o,type:"button",className:be("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...s}));B.displayName="CloseButton";B.propTypes=Ae;function k(n){n===void 0&&(n=Te());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function Be(n){const e=a.useRef(n);return e.current=n,e}function Le(n){const e=Be(n);a.useEffect(()=>()=>e.current(),[])}function je(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const X=ye("modal-open");class L{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:s=!1}={}){this.handleContainerOverflow=t,this.isRTL=s,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return je(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[s]:o.style[s]},e.scrollBarWidth&&(t[s]=`${parseInt(m(o,s)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(X,""),m(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(X),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Se=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function De(n,e){if(n==null)return{};var t={};for(var s in n)if({}.hasOwnProperty.call(n,s)){if(e.indexOf(s)>=0)continue;t[s]=n[s]}return t}let N;function We(n){return N||(N=new L({ownerDocument:n==null?void 0:n.document})),N}function Fe(n){const e=$(),t=n||We(e),s=a.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>t.add(s.current),remove:()=>t.remove(s.current),isTopModal:()=>t.isTopModal(s.current),setDialogRef:a.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:a.useCallback(o=>{s.current.backdrop=o},[])})}const q=a.forwardRef((n,e)=>{let{show:t=!1,role:s="dialog",className:o,style:i,children:b,backdrop:h=!0,keyboard:T=!0,onBackdropClick:j,onEscapeKeyDown:S,transition:z,runTransition:Q,backdropTransition:J,runBackdropTransition:Z,autoFocus:ee=!0,enforceFocus:te=!0,restoreFocus:ne=!0,restoreFocusOptions:se,renderDialog:D,renderBackdrop:oe=r=>d.jsx("div",Object.assign({},r)),manager:re,container:ae,onShow:W,onHide:F=()=>{},onExit:ie,onExited:I,onExiting:le,onEnter:de,onEntering:ce,onEntered:ue}=n,fe=De(n,Se);const c=$(),p=Oe(ae),l=Fe(re),he=Ce(),ge=xe(t),[y,P]=a.useState(!t),E=a.useRef(null);a.useImperativeHandle(e,()=>l,[l]),Re&&!ge&&t&&(E.current=k(c==null?void 0:c.document)),t&&y&&P(!1);const _=g(()=>{if(l.add(),R.current=V(document,"keydown",Ee),x.current=V(document,"focus",()=>setTimeout(me),!0),W&&W(),ee){var r,K;const M=k((r=(K=l.dialog)==null?void 0:K.ownerDocument)!=null?r:c==null?void 0:c.document);l.dialog&&M&&!G(l.dialog,M)&&(E.current=M,l.dialog.focus())}}),C=g(()=>{if(l.remove(),R.current==null||R.current(),x.current==null||x.current(),ne){var r;(r=E.current)==null||r.focus==null||r.focus(se),E.current=null}});a.useEffect(()=>{!t||!p||_()},[t,p,_]),a.useEffect(()=>{y&&C()},[y,C]),Le(()=>{C()});const me=g(()=>{if(!te||!he()||!l.isTopModal())return;const r=k(c==null?void 0:c.document);l.dialog&&r&&!G(l.dialog,r)&&l.dialog.focus()}),pe=g(r=>{r.target===r.currentTarget&&(j==null||j(r),h===!0&&F())}),Ee=g(r=>{T&&Ne(r)&&l.isTopModal()&&(S==null||S(r),r.defaultPrevented||F())}),x=a.useRef(),R=a.useRef(),ve=(...r)=>{P(!0),I==null||I(...r)};if(!p)return null;const H=Object.assign({role:s,ref:l.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},fe,{style:i,className:o,tabIndex:-1});let w=D?D(H):d.jsx("div",Object.assign({},H,{children:a.cloneElement(b,{role:"document"})}));w=U(z,Q,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:ie,onExiting:le,onExited:ve,onEnter:de,onEntering:ce,onEntered:ue,children:w});let v=null;return h&&(v=oe({ref:l.setBackdropRef,onClick:pe}),v=U(J,Z,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:v})),d.jsx(d.Fragment,{children:we.createPortal(d.jsxs(d.Fragment,{children:[v,w]}),p)})});q.displayName="Modal";const Xe=Object.assign(q,{Manager:L});function Ie(n,e){n.classList?n.classList.add(e):ke(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Y(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Pe(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Y(n.className,e):n.setAttribute("class",Y(n.className&&n.className.baseVal||"",e))}const f={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class _e extends L{adjustAndStore(e,t,s){const o=t.style[e];t.dataset[e]=o,m(t,{[e]:`${parseFloat(m(t,e))+s}px`})}restore(e,t){const s=t.dataset[e];s!==void 0&&(delete t.dataset[e],m(t,{[e]:s}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(Ie(t,"modal-open"),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";u(t,f.FIXED_CONTENT).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth)),u(t,f.STICKY_CONTENT).forEach(i=>this.adjustAndStore(o,i,-e.scrollBarWidth)),u(t,f.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(o,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Pe(t,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";u(t,f.FIXED_CONTENT).forEach(i=>this.restore(s,i)),u(t,f.STICKY_CONTENT).forEach(i=>this.restore(o,i)),u(t,f.NAVBAR_TOGGLER).forEach(i=>this.restore(o,i))}}let A;function Ye(n){return A||(A=new _e(n)),A}const He=a.createContext({onHide(){}}),Ke=a.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:s,children:o,...i},b)=>{const h=a.useContext(He),T=Me(()=>{h==null||h.onHide(),s==null||s()});return d.jsxs("div",{ref:b,...i,children:[o,t&&d.jsx(B,{"aria-label":n,variant:e,onClick:T})]})});Ke.displayName="AbstractModalHeader";export{Ke as A,Xe as B,He as M,_e as a,Ye as g};
